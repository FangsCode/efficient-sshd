package sshex

import (
	"fmt"
	"strconv"
	"strings"
	"testing"
)

func Test_ParsePtyReqPayload(t *testing.T) {
	str := "0 0 0 14 120 116 101 114 109 45 50 53 54 99 111 108 111 114 0 0 0 126 0 0 0 43 0 0 3 114 0 0 2 90 0 0 1 0 129 0 0 37 128 128 0 0 37 128 1 0 0 0 3 2 0 0 0 28 3 0 0 0 127 4 0 0 0 21 5 0 0 0 4 6 0 0 0 255 7 0 0 0 255 8 0 0 0 17 9 0 0 0 19 10 0 0 0 26 11 0 0 0 25 12 0 0 0 18 13 0 0 0 23 14 0 0 0 22 17 0 0 0 20 18 0 0 0 15 30 0 0 0 0 31 0 0 0 0 32 0 0 0 0 33 0 0 0 0 34 0 0 0 0 35 0 0 0 0 36 0 0 0 1 38 0 0 0 1 39 0 0 0 1 40 0 0 0 0 41 0 0 0 1 42 0 0 0 1 50 0 0 0 1 51 0 0 0 1 53 0 0 0 1 54 0 0 0 1 55 0 0 0 0 56 0 0 0 0 57 0 0 0 0 58 0 0 0 0 59 0 0 0 1 60 0 0 0 1 61 0 0 0 1 62 0 0 0 1 70 0 0 0 1 72 0 0 0 1 73 0 0 0 0 74 0 0 0 0 75 0 0 0 0 90 0 0 0 1 91 0 0 0 1 92 0 0 0 0 93 0 0 0 0 0"
	sp := strings.Split(str, "\x20")
	buf := make([]byte, len(sp))
	for i := 0; i < len(sp); i++ {
		n, _ := strconv.Atoi(sp[i])
		buf[i] = byte(n)
	}

	pty, _ := ParsePtyReqPayload(buf)
	fmt.Printf("%+v\n", pty)
}
